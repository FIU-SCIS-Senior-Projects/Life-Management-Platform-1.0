<script src="~/Scripts/lmpopup.js"></script>
<link href="~/Content/CatTiles.css" rel="stylesheet" />


@using LifeManagement.Models
@model List<LifeManagement.Models.SprintActivities>
@{
    var common = new LifeManagement.Models.Common();
}



<h3> Click the desidered Category and select the Activity you want to edit</h3>


<div class="clearfix">
    <div class="cycle-tab">
        <div class="activities-div" id="joytab">
            <a class="btn btn-success lmmodal" modal-width="100%" url='@Url.Action("Joy","Activities")' href="#">Joy +</a>
        </div>
    </div>
</div>


<div class="clearfix">

    <div class="col-md-2"></div>

    @if (Model != null)
            {
                foreach (var a in Model)
                {

            <div class="cat-tiles col-md-3">
                <label id="lbl" for="@a.Id">
                    <div class="cat-tiles-body">

                        <img class="cat-tiles-img" src="@common.SignatureImageStr64(a.Activity.Img, a.Activity.ImgMime)" />
                    </div>
                </label>
                <div style="display: block" class="cat-tiles-specifics">
                    <label class="spec-lbl">@a.Specifics </label>
                </div>
                <div class="cat-tiles-footer">

                    <label class="cat-tiles-lbl">@a.Activity.Name</label>
                </div>


            </div>

        }
    }

</div>

<div class="clearfix">
    <div class="activities-div" id= "passiontab">
        <a class="btn btn-success lmmodal" modal-color="cadetblue" modal-width="100%" url='@Url.Action("Passion","Activities")' href="#">Passion +</a>
    </div>
</div>
<div class="clearfix">

    <div class="col-md-3"></div>
    @if (Model != null)
    {
        foreach (var a in Model)
        {

            <div class="cat-tiles col-sm-4 col-md-3">
                <label id="lbl" for="@a.Id">
                    <div class="cat-tiles-body">

                        <img class="cat-tiles-img" src="@common.SignatureImageStr64(a.Activity.Img, a.Activity.ImgMime)" />
                    </div>
                </label>
                <div style="display: block" class="cat-tiles-specifics">
                    <label class="spec-lbl">@a.Specifics </label>
                </div>
                <div class="cat-tiles-footer">
                    <label class="cat-tiles-lbl">@a.Activity.Name</label>
                </div>


            </div>

        }
    }



</div>


<div class="clearfix">
    <div class="activities-div" id="gbtab">
        <a class="btn btn-success lmmodal" modal-color="cadetblue" modal-width="100%" url='@Url.Action("GivingBack","Activities")' href="#">Give Back +</a>
    </div>
</div>
<div class="clearfix">
    <div class="col-md-3"></div>
    @if (Model != null)
    {
        foreach (var a in Model)
        {

            <div class="cat-tiles col-md-3">
                <label id="lbl" for="@a.Id">
                    <div class="cat-tiles-body">

                        <img class="cat-tiles-img" src="@common.SignatureImageStr64(a.Activity.Img, a.Activity.ImgMime)" />
                    </div>
                </label>
                <div style="display: block" class="cat-tiles-specifics" id="spec-@a.Id">
                    <label class="spec-lbl">@a.Specifics </label>
                </div>
                <div class="cat-tiles-footer">
                    <label class="cat-tiles-lbl">@a.Activity.Name</label>
                </div>


            </div>

        }
    }


</div>








<script>

   function updateSprintActivity(activities,cat) {
       debugger;

       var tabid="#joytab";
       if (cat == 'passion')
           tabid = "#passiontab";
       if (cat == 'gb')
           tabid = "#gbtab";

        $.ajax({
            url: '@Url.Action("UpdateSprint","SprintActivities")',
            type: 'POST',

            data:{ 'activities': activities,cat:cat } ,
            success:function(res) {

               $(tabid).html(res);
            },
            error:function(msg) {
                $(tabid).html('<h4>Could not get data from server </h4>');
            }
        })

    }


</script>